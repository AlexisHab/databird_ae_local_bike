version: 2

models:
  - name: dim_staffs
    description: '{{ doc("dim_staffs") }}'
    
    columns:
      - name: staff_id
        description: "Primary key - Unique identifier for each staff member"
      
      - name: first_name
        description: "Staff member's given name"
        tests:
          - dbt_utils.not_empty_string
      
      - name: last_name
        description: "Staff member's family name"
        tests:
          - dbt_utils.not_empty_string
      
      - name: full_name
        description: "Complete name in standard format"
      
      - name: phone
        description: "Staff member's contact phone number"
        tests:
          - not_null
          - dbt_utils.not_empty_string
      
      - name: email
        description: "Staff member's email address"
        tests:
          - not_null
          - dbt_utils.not_empty_string
          - dbt_utils.expression_is_true:
              expression: "like '%@%'"
      
      - name: active
        description: "Boolean flag indicating if the staff member is currently employed"
        tests:
          - not_null
      
      - name: store_id
        description: "Foreign key - Store location where this staff member is assigned"
        tests:
          - not_null
      
      - name: manager_l2_name
        description: "Second-level manager name (manager's manager)"
      
      - name: manager_l1_name
        description: "Direct manager/supervisor name"
      
      - name: manager_l0_name
        description: "Team lead or immediate supervisor name"
      
      - name: hierarchy_depth
        description: "Number of management levels above this person (0 = top level)"
